<!DOCTYPE html>
<html lang=en>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Kaveh v0.3" />
<meta name="description" content="Why I use POSIX shell for everything and why you should too (2021).">
<link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAFxAAABcQG7iuH0AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhVJREFUOI2FkU1IlHEQxn/z33fbJSIIDx0ioUChj0Mm7R7KNRc7SAUdyiDCDoqXCC9BeKpTHYRIyFMRBBWEUFCgh0rIbFM3lKAsSKJLEn2Z7Yfr7vvOdAjD6FXnNPA8/GaeGVilekZS7ReG9x9ZTnerAVSkLUC6ukaaq8N0b2K6tm12IRbJ+7FM3pfGQhCd7ExksgCXM+lNvgXbRfgW8e080P4fwIxzgnb7lAtYLA52v29039uyCmrBekzuOvEuQnAtdAPBvqR3vHkAcHsyOUggxwz6/6STaoQ4sfhP8oXQiB7A0NTOR3OVNRR9dSbulcGsAGBxjG4tFtLAdChgd837ppWO2PO88ThwCywapq/6BcOGxGyX4rJhuiw298YSVcWoNhUqUamok4q6M4G5kgI5dRRVbuR811wwV8j57lk+gLzKd28RoGs0iUqfc1wydQEic2f3Pj20dFrnk/S4mdzE6WsJJCniGv5GOFr3csBBB0ariwSjK2R6B2DiNqsj9c8NTtRnHwaqp0wjvcsCxFpN3ZaqwrqW7MGBzxLmuTqWqPI13m++dpSABeLMAfMlqn9Bx50Dj08uer0wwOnE+I/eTMMLdZEhD4ZLfjAvJntU3AxwZak3EgbY0JLcKM59UnN1anZ9Qdxw2WRrGRlcUD5sO1z/dap/ypbdwMOrr5hLgUyISEoCQYwZjNoIria3tvgRmAX4DdT85ywDHCURAAAAAElFTkSuQmCC">
<title>POSIX Shell Scripting</title>
<style>
html{overflow-y:scroll;}body{background-color:#fafafa;color:#333;margin:0 auto;padding:1ex;max-width:100ex;font-family:sans-serif;line-height:1.6;}img{display:block;margin:0 auto;max-width:100%;height:auto;}.code-block{background-color:#f5f5f5;border:1px solid #d0d0d0;border-radius:4px;margin:1em 0;overflow:hidden;}.code-block pre{margin:0;padding:1em;overflow-x:auto;}.code-block code,pre{font-family:monospace;background-color:#f0f0f0;border:1px solid #ccc;border-radius:6px;padding:1em;margin:1em 0;font-size:1em;line-height:1.5;color:#222;white-space:pre-wrap;word-wrap:break-word;overflow-x:visible;}p code,li code,td code,blockquote code{display:inline;padding:2px 4px;border:1px solid #d0d0d0;background-color:#e8e8e8;border-radius:3px;}h1,h2,h3,h4,h5,h6,h7{line-height:1.2;margin-top:1.5em;margin-bottom:0.5em;}.heading-with-anchor{position:relative;}.heading-anchor{position:absolute;left:-1.5em;top:50%;transform:translateY(-50%);text-decoration:none;opacity:0;padding-right:0.5em;transition:opacity 0.2s ease;display:inline-flex;align-items:center;}.heading-anchor .octicon{fill:#ccc;display:block;}.heading-with-anchor:hover .heading-anchor{opacity:1;}.heading-anchor:hover .octicon{fill:#0066cc;}table{border-collapse:collapse;width:100%;margin:1em 0;table-layout:fixed;}table td,table th{border:1px solid #ccc;padding:8px 12px;text-align:center;vertical-align:center;}table tr:nth-child(even){background-color:#f9f9f9;}table td code,table th code{overflow-wrap:anywhere;word-break:break-all;white-space:normal;}blockquote{border-left:4px solid #d0d0d0;margin:1em 0;padding-left:1em;color:#555;}hr{border:none;border-top:2px solid #ccc;margin:2em 0;}ul.task-list{list-style:none;padding-left:0;}ul.task-list li.task-list-item{padding-left:1.5em;}ul.task-list input[type="checkbox"]{margin-left:-1.5em;margin-right:0.5em;}mark{background-color:#ffff00;padding:2px 0;}del{text-decoration:line-through;opacity:0.7;}sub,sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}.footnotes{margin-top:2em;padding-top:1em;border-top:1px solid #ccc;font-size:0.9em;}.footnotes ol{padding-left:1.5em;}dl{margin:1em 0;}dt{font-weight:bold;margin-top:0.5em;}dd{margin-left:2em;margin-bottom:0.5em;}a{color:#0066cc;text-decoration:none;}a:hover{text-decoration:underline;color:#0052a3;}a:visited{color:#6b46c1;}ul ul,ol ol,ul ol,ol ul{margin:0.5em 0;}textarea,input,button{font-family:inherit;font-size:1em;border:1px solid #d0d0d0;border-radius:4px;padding:0.5em;}textarea,input[type="text"],input[type="password"],input[type="email"]{width:100%;background-color:#fff;color:#333;box-sizing:border-box;margin:0.5em 0;}textarea{resize:vertical;min-height:4em;}button{background-color:#0066cc;color:#fff;border:none;cursor:pointer;padding:0.6em 1.2em;margin:0.5em 0.5em 0.5em 0;transition:background-color 0.2s ease;}button:hover{background-color:#0052a3;}button:active{background-color:#003d7a;}.post-list{margin:2em 0;padding:1.5em;background-color:#f9f9f9;border:1px solid #e5e5e5;border-radius:6px;}.post-entry{margin-bottom:2em;padding-bottom:1.5em;border-bottom:1px solid #e0e0e0;}.post-entry:last-of-type{border-bottom:none;}.post-entry h3{margin-top:0;margin-bottom:0.5em;}.post-entry h3 a{color:#333;}.post-entry h3 a:hover{color:#0066cc;}.post-entry time{display:block;color:#666;font-size:0.9em;margin-bottom:0.5em;}.post-entry p{margin:0.5em 0 0 0;color:#555;}.post-entry .file-icon{display:inline-block;vertical-align:middle;margin-right:0.25em;fill:#666;}.pagination{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:2em 0 0 0;padding:1em 0 0 0;border-top:2px solid #d0d0d0;}.pagination .prev{grid-column:1;justify-self:start;}.pagination .page-info{grid-column:2;text-align:center;color:#666;font-size:0.9em;}.pagination .next{grid-column:3;justify-self:end;}.pagination a{padding:0.5em 1em;background-color:#0066cc;color:#fff;border-radius:4px;text-decoration:none;}.pagination a:hover{background-color:#0052a3;}@media print{body{max-width:none;}}@media (prefers-color-scheme:dark){body{color:#e0e0e0;background-color:#1a1a1a;}.code-block{background-color:#0d0d0d;border-color:#333;}.code-block pre{color:#e0e0e0;}pre{background-color:#1e1e1e;border-color:#333;color:#f2f2f2;white-space:pre-wrap;word-wrap:break-word;overflow-x:visible;}p code,li code,td code,blockquote code{background-color:#0d0d0d;border-color:#333;color:#e0e0e0;}table td,table th{border-color:#444;}table tr:nth-child(even){background-color:#111;}blockquote{border-left-color:#444;color:#aaa;}hr{border-top-color:#444;}mark{background-color:#666600;color:#fff;}a:link{color:#cdf;}a:hover,a:visited:hover{color:#def;}a:visited{color:#dcf;}.footnotes{border-top-color:#444;}.heading-anchor .octicon{fill:#555;}.heading-anchor:hover .octicon{fill:#cdf;}textarea,input[type="text"],input[type="password"],input[type="email"]{background-color:#0d0d0d;color:#e0e0e0;border-color:#444;}button{background-color:#0066cc;}button:hover{background-color:#3388dd;}button:active{background-color:#0052a3;}.post-list{background-color:#0d0d0d;border-color:#333;}.post-entry{border-bottom-color:#333;}.post-entry h3 a{color:#e0e0e0;}.post-entry h3 a:hover{color:#cdf;}.post-entry time{color:#999;}.post-entry p{color:#aaa;}.pagination{border-top-color:#444;}.pagination a{background-color:#0066cc;}.pagination a:hover{background-color:#3388dd;}.pagination .page-info{color:#999;}.post-entry .file-icon{fill:#999;}}
</style>
</head>
<body>
<div>
<header><h1 id="home" class="heading-with-anchor"><a href="/"><- Home</a><a href="#home" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h1></header>
<p>Shell scripting gets a bad reputation. "It's hard to read." "It's error-prone." "Use Python instead." I disagree.
</p>
<p>POSIX shell is one of the most powerful tools you can learn. It's fast, portable, and always available. Every Unix-like system has <code>/bin/sh</code>. You don't need to install runtimes, manage dependencies, or worry about version mismatches. It just works.
</p>
<h2 id="why-posix-shell" class="heading-with-anchor">Why POSIX shell?<a href="#why-posix-shell" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 id="1-portability" class="heading-with-anchor">1. Portability<a href="#1-portability" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>POSIX shell runs everywhere: Linux, BSD, macOS, even embedded systems. Write your script once and it works on any POSIX-compliant system. No virtualenvs, no Gemfiles, no package.json. Just a shebang and you're done.</p>
<div class="code-block" data-lang="sh"><pre>
#!/bin/sh
# This runs on any POSIX system
</pre></div>
<p>Compare that to Python (2 vs 3), Ruby (rbenv/rvm chaos), or Node (nvm, different module systems). Shell doesn't care. It's been stable for decades.
</p>
<h3 id="2-speed" class="heading-with-anchor">2. Speed<a href="#2-speed" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Shell is fast. It's designed to orchestrate programs, not to be a general-purpose language. You pipe data between tools, each doing one thing well. No interpreter startup overhead, no GC pauses, no framework bloat.
</p>
<p>For system tasks (file manipulation, process management, text processing), shell is often faster than high-level languages because you're calling optimized C programs (grep, sed, awk) directly.
</p>
<h3 id="3-minimalism" class="heading-with-anchor">3. Minimalism<a href="#3-minimalism" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>A good shell script is small. You use existing tools instead of reinventing them. Need to parse JSON? Use <code>jq</code>. Need to download a file? Use <code>curl</code>. Need to process text? Use <code>sed</code> or <code>awk</code>.
</p>
<p>This is the Unix philosophy: small, composable tools that do one thing well. Shell is the glue.</p>
<h3 id="4-no-dependencies" class="heading-with-anchor">4. No dependencies<a href="#4-no-dependencies" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Your shell script has zero runtime dependencies beyond coreutils (which every system has). No <code>requirements.txt</code>, no <code>Cargo.toml</code>, no <code>go.mod</code>. It runs on a fresh install. It runs in a minimal container. It runs on a 10-year-old server.
</p>
<h3 id="5-interactivity" class="heading-with-anchor">5. Interactivity<a href="#5-interactivity" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p>Shell is your working environment. You test commands interactively, then paste them into a script. The feedback loop is instant. No compile step, no "activate this environment first," no IDE setup. Just type and run.
</p>
<h2 id="common-complaints-and-why-they-re-wrong" class="heading-with-anchor">Common complaints (and why they're wrong)<a href="#common-complaints-and-why-they-re-wrong" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p><strong>"Shell is hard to read."</strong>  
Only if you write bad shell. Use meaningful variable names, add comments, break long pipelines into functions. Good shell is readable.</p>
<p><strong>"Shell is error-prone."</strong>  
Set <code>set -euf</code> at the top of your scripts. Use <a href="https://github.com/koalaman/shellcheck">ShellCheck</a> to catch bugs before you run. Problem solved.</p>
<p><strong>"Shell can't do X."</strong>  
Then call a program that can. That's the point. Shell orchestrates; specialized tools do the work.</p>
<p><strong>"But Python is more powerful!"</strong>  
For complex logic, sure. But most scripts are glue: "download this, extract that, move these files." Shell does this in 10 lines. Python takes 50 and imports three libraries.</p>
<h2 id="shellcheck-the-linter-you-need" class="heading-with-anchor">ShellCheck: the linter you need<a href="#shellcheck-the-linter-you-need" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p>If you write shell, use <a href="https://github.com/koalaman/shellcheck">ShellCheck</a>. It's a static analysis tool that catches common mistakes: unquoted variables, useless cats, broken conditionals, portability issues.</p>
<div class="code-block" data-lang="sh"><pre>
# Bad
for f in $(ls *.txt); do
  echo $f
done

# ShellCheck warns: Don't parse ls. Use globs.
# Also: quote your variables.

# Good
for f in ./*.txt; do
  [ -e &quot;$f&quot; ] || continue
  echo &quot;$f&quot;
done
</pre></div>
<p>ShellCheck makes you a better shell programmer. Run it in CI. Run it in your editor. Treat warnings as errors.
</p>
<h2 id="example-a-simple-build-script" class="heading-with-anchor">Example: a simple build script<a href="#example-a-simple-build-script" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p>Here's a script that builds a static site (like this one):</p>
<div class="code-block" data-lang="sh"><pre>
#!/bin/sh
set -euf

SRC=&quot;src&quot;
OUT=&quot;out&quot;

rm -rf &quot;$OUT&quot;
mkdir -p &quot;$OUT&quot;

for md in &quot;$SRC&quot;/*.md; do
  [ -e &quot;$md&quot; ] || continue
  base=$(basename &quot;$md&quot; .md)
  out=&quot;$OUT/$base.html&quot;
  
  cat template/header.html &gt; &quot;$out&quot;
  markdown &lt; &quot;$md&quot; &gt;&gt; &quot;$out&quot;
  cat template/footer.html &gt;&gt; &quot;$out&quot;
done

echo &quot;Built $(find &quot;$OUT&quot; -name '*.html' | wc -l) pages.&quot;
</pre></div>
<p>That's it. No Makefile, no npm scripts, no bundler config. Just a shell script you can read and modify.
</p>
<h2 id="when-not-to-use-shell" class="heading-with-anchor">When <em>not</em> to use shell<a href="#when-not-to-use-shell" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p>Shell is great for glue and orchestration. It's not great for:</p>
<ul>
<li>Complex data structures (use awk, Python, or a real language)
</li>
<li>Heavy string manipulation (use sed/awk or Perl)
</li>
<li>Cross-platform GUI apps (obviously)
</li>
<li>Performance-critical algorithms (use C, Rust, Go)
</li></ul>
<p>Know your tools. Shell is one tool in the box. Use it where it shines.
</p>
<h2 id="my-shell-scripts" class="heading-with-anchor">My shell scripts<a href="#my-shell-scripts" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p>I practice what I preach. Here are some POSIX shell scripts I've written:</p>
<ul>
<li><a href="https://github.com/MahdiMirzadeh/kaveh"><strong>Kaveh</strong></a>: A lightweight static site generator written in pure POSIX shell. Converts Markdown to responsive HTML with zero external dependencies. This website is built with it.
</li>
<li><a href="https://github.com/MahdiMirzadeh/dumbsh"><strong>dumbsh</strong></a>: Fixes keyboard layout mistakes. If you type in the wrong layout by accident, this script generates a translation table using xmodmap to convert second-layout text back to your first layout (English).
</li>
<li><a href="https://github.com/MahdiMirzadeh/qbittorrent"><strong>qbittorrent themes</strong></a>: Generates color themes for qBittorrent (Qt client and WebUI) using shell scripts. Because even your torrent client should look good.
</li></ul>
<p>All pure shell. All portable. All maintainable.
</p>
<h2 id="conclusion" class="heading-with-anchor">Conclusion<a href="#conclusion" class="heading-anchor" aria-label="Permalink"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p>POSIX shell is underrated. It's fast, portable, minimal, and always available. Learn it well and you won't need a "task runner" fad.
</p>
<p>Write clean shell. Use ShellCheck. Keep scripts small. Embrace the Unix philosophy.
</p>
<p>Your system already has what you need. Use it.</p>
<footer><table>
<tr><td><p style="text-align: center;"><a href="https://github.com/MahdiMirzadeh">Github</a><p></td><td><p style="text-align: center;"><a href="https://x.com/MahdiMirzade">X</a><p></td><td><p style="text-align: center;"><a href="https://t.me/MahdiMirzade">Telegram</a><p></td><td><p style="text-align: center;"><a href="https://www.youtube.com/@MahdiMirzade">Youtube</a><p></td><td><p style="text-align: center;"><a href="/blog.xml">RSS</a><p></td></tr>
</table>
<p style="text-align: center"><small>Generated by <a href="https://github.com/MahdiMirzadeh/Kaveh">Kaveh</a></small></p></footer>
</div>
</body>
</html>
